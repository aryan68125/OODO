<odoo>

  <!-- Create a search view in student custom module in odoo   -->
  <record id="wb_student_search_view" model="ir.ui.view">
    <field name="name">student.search.view</field>
    <field name="model">student</field>
    <field name="arch" type="xml">
      <search>
        <!-- Apply filter in the default filter view provided by odoo -->
        <!-- <field name="name"/> -->
        <!-- <field name="roll"/> -->
        <!-- <field name="email"/> -->
        <!-- <field name="address"/> -->
        <!-- <field name="joining_date"/> -->
        <!-- <field name="school_id"/> -->
      
        <!-- Apply the same filter but in the custom filter section under the filters option in the search box in the view -->
        <!-- Add a filter that allows us to filter the records based on dates -->
        <!-- <filter name="joining_date" string="Student's Joining Date" date="joining_date"/> -->

        <!-- If you want the 14_days ago date filter to show up inside the joining_date filter as an option then you can do something like this -->
        <!-- <filter name="joining_date" string="Student's joining date" date="joining_date"> -->
        <!--    <filter name="14_days" string="Show students that joined 14 days ago" -->
        <!--   domain="[('joining_date', '>=', (context_today() - relativedelta(days=14)).strftime('%%Y-%%m-%%d 00:00:00'))]"/> -->
        <!-- </filter> -->

        <!-- Increase the months and years in the date filter of the search bar
            for this you can use start_month attribute
            if you provide start_month="-3" then this will show you 3 months before the current month.
         -->
        <filter name="joining_date" string="Student's joining date" date="joining_date" start_year="-3" end_year="3" start_month="-3" end_month="3">
           <filter name="14_days" string="Show students that joined 14 days ago"
          domain="[('joining_date', '>=', (context_today() - relativedelta(days=14)).strftime('%%Y-%%m-%%d 00:00:00'))]"/>
        </filter>

        <!-- When using filter tag with domain attribute then date attribute must be removed or else it will show all the records and it will not work as expected --> 
        <filter name="7_days" string="Show students that joined 7 days ago"
          domain="[('joining_date', '>=', (context_today() - relativedelta(days=7)).strftime('%%Y-%%m-%%d 00:00:00'))]"/>

        <filter name="14_days" string="Show students that joined 14 days ago"
          domain="[('joining_date', '>=', (context_today() - relativedelta(days=14)).strftime('%%Y-%%m-%%d 00:00:00'))]"/>

        <!-- normal filters in default filter view provided by odoo -->
        <filter name="name" domain="[('name','ilike','rollex')]" string="Student's name Rollex" />
         <separator/>
         <filter name="roll" domain="[('roll','ilike','997')]" string="Student's roll number 997" />
         <separator/>
         <filter name="email" domain="[('email','ilike','rollex')]" string="Student's email address rollex" />
         <separator/>
         <filter name="school_name" domain="[('school_id.name','ilike','stella')]" string="School name stella" />
         <separator/>
         <filter name="male_students" domain="[('gender','=','Male')]" string="Male Students"/>
         <filter name="female_students" domain="[('gender','=','Female')]" string="Female Students"/>

         <!-- Inside this group tag exists all the group by options in odoo -->
         <group>
           <filter name="gender_groupby_male" context="{'group_by':'gender'}" domain="[]" string="Gender" />
           <filter name="name" context="{'group_by':'school_id'}" domain="[]" string="School" />
         </group>

         <!-- How to add search panel in odoo -->
         <searchpanel>
            <!-- <field name="gender" string="Gender" icon="fa-truck" color="#8B5A49"/> -->
            <field name="gender" string="Gender" select="multi" enable_counters="1"/>
           <!-- <field name="school_id" string="School" color="green" icon="fa-company"/> -->
           <!-- <field name="school_id" string="School" select="multi"/> -->
            <field name="school_id" string="School" color="green" icon="fa-cutlery" enable_counters="1"/>
         </searchpanel>
      </search>
    </field>
  </record>

  <data>
    <!-- For showing all students -->
    <record id="wb_student_tree_view" model="ir.ui.view">
      <field name="name">student.list.view</field>
      <field name="model">student</field>
      <field name="arch" type="xml">
        <list>  
        <!-- <list create="0">  -->
        <!-- <list delete="0">   -->
        <!-- <list edit="0"> -->
        <!-- <list import="0"> -->
        <!-- <list export_xlsx="0"> -->
        <!-- <list delete="0"> -->
        <!-- <list create="0" edit="0" import="0" export_xlsx="0" delete="0"> -->
          
          <!-- This field is used to make the records in the ListView draggable -->
          <field name="sequence" widget="handle"/>

          <header>
            <button name="abc_test" type="object" string="Click me!"/>
          </header>
          
          <field name="id"/>
          
          <field name="profile_picture" widget="image" class="oe_avatar"/>
          <!-- <field name="school_id" width="200px"/> -->
          
          <groupby name="school_id">
            <button type="edit" name="edit" icon="fa-edit" title="Edit"></button>
          </groupby>
          
          <field name="school_address"/>
          
          <field name="hobby_list"/>
          <field name="name"/>
          <field name="roll"/>
          <field name="email" width="200px"/>
          <field name="address"/>
          
          <!-- <field name="fees" sum="Total Fees" /> -->
          <field name="fees" avg="Average of fees" />
          <field name="currency"/>
          <field name="html_field_demo"/>
          <field name="major" placeholder="Select Major in which you want to study"/>
          <field name="school_data" placeholder="Enter student's school data here!"/>
          <field name="joining_date"/>
          <field name="added_at"/>
          <field name="active"/>

          <!-- This is the implementation of static statusbar -->
          <!-- <field name="status"/> -->

          <button name="delete_record" string="Delete" type="object" icon="fa-trash" class="btn btn-danger"/>
        </list>
      </field>
    </record>

    <!-- Student FormView For showing adding/updating students -->
    <record id="wb_student_form_view" model="ir.ui.view">
      <field name="name">student.form.view</field>
      <field name="model">student</field>
      <field name="arch" type="xml">
        <!-- <form> -->
        <!--When you set the attribute edit to zero then the form becomes non-editable -->  
          <form edit="1">
           
          <header>
            <!-- This is the implementation of the static statusbar -->
            <!-- Add this to show the status of the student record (read-only) -->
            <!-- <field name="status" widget="statusbar" options="{'clickable':1}"/> -->

            <!-- This is the implementation of dynamic statusbar -->
            <field name="status_id" widget="statusbar" options="{'clickable':1}"/>
          </header>

          <sheet>
            <!-- This will automatically manage the button layout in UI for the student's module in odoo -->
            <div class="oe_button_box" name="button_box">
              <!-- A fancy button that has a label duplicate record , shows real data in the fees field from the model, has an icon to be displayed on the front-end side and triggers a custom_function in the model when clicked -->
              <button name="duplicate_records" type="object" string="Duplicate record (create)" icon="fa-copy">
                <div class="o_stat_info">
                  <span class="o_stat_value">
                    <field name="fees"/>
                  </span>
                  <span class="o_stat_text">
                    Duplicate record
                  </span>
                </div>
              </button>

              <button name="search_record" type="object" string = "Search record button"></button>
              
              <button name="custom_method" type="object" string = "Trigger custom_method in student's model"></button>
            </div>

            <!-- This is the implementation of static statusbar -->
            <!-- Add this field to make the status field editable  -->
            <!-- <field name="status"/> -->
            
            <!-- This is the implementation of dynamic statusbar -->
            <!-- <field name="status_id"/> -->
            <notebook>
              <page string="Set profile picture and name">
                <group>
                  <group >
                    <group string="Profile pic and name section">
                      <field name="profile_picture" widget="image" class="oe_avatar"/>
                      <field name="name"/>
                    </group>

                    <group string="Roll and email section">
                      <field name="roll"/>
                      <field name="email"/>
                    </group>
                  </group>
                </group>
              </page>

              <page string="Set some miscellinous info">
                <group>
                  <group>
                    <group string="Hobby and gender section">
                      <field name="hobby_list" widget="many2many_tags"/>
                      <field name="gender" placeholder="Select Gender"/>
                    </group>

                    <group string="Joining date and address section">
                      <field name="joining_date" placeholder="Enter the joining date for the student." invisible="0"/>
                      <field name="address" placeholder = "Enter student's address here..."/>
                    </group>
                  </group>
                </group>
              </page>

              <page  string="Set details realted to school,fees and major">
                <group>
                  <group>
                    <!-- This is the child group -->
                    <group string="School and major section">
                        <field name="school_id"/>
                        <field name="school_address"/>
                        <field name="major" placeholder="Select Major in which you want to study"/>
                    </group>
                    <group string="Fees section">
                        <field name="fees"/>
                        <field name="currency"/>
                    </group>
                  </group>
                </group>
              </page>

              <page string="Other fields" invisible="gender == 'Male'">
                <group>
                  <group>
                    <!-- Group tag is used to display fields column wise -->
                    <group string="Json feed and agreement section">
                      <field name="html_field_demo"/>
                      <!-- <button name="json_data_store" type="object" string="JSON FEED" invisible = "fees > 0"></button> -->
                      <button name="json_data_store" type="object" string="JSON FEED"></button>
                      <!-- <field name="joining_date" placeholder="Enter the joining date for the student." invisible="1"/> -->
                    </group>

                    <group string="Agreement section" >
                      <field name="is_agreed"/>
                      <field name="active"/>
                    </group>

                    <group string="HTML field section" >
                      <field name="id"/> 
                      <field name="school_data" placeholder="Enter student's data here!"/>
                      <!-- <field name="html_field_demo" options="{'sandboxedPreview':True}"/> -->
                    </group>
                  </group>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>
 
    <!-- Implemented kanban view to show data in cards instead of table when using listView instead -->
    <record id="wb_student_kanban_view" model="ir.ui.view">
      <field name="name">student.kanban.views</field>
      <field name="model">student</field>
      <field name="arch" type="xml">
        
        <!-- This is the implementation of static statusbar -->
        <!-- <kanban class="o_kanban_mobile" default_group_by="status"> -->
        <kanban class="o_kanban_mobile" default_group_by="status_id">
          <!-- This is the implementation of progressbar in kanbanView -->
          <!-- <progressbar field="status_id" colors='{"Draft":"blue","In Progress":"orange","Finish":"green"}'/> -->
          <templates>
            <!-- this is the implementation of static statusbar -->
            <!-- add this to make the card draggable between different status (just like what we see for tickets in jira) static statusbar-->
            <!-- <field name="status"/> -->

            <!-- This is the implementation of dynamic statusbar -->
            <field name="status_id"/>
            <t t-name="card">
              <div class="row">
                <div class="col-4">
                  <aside class="o_kanban_aside_full">
                    <div class="o_kanban_image_fill position-relative w-100">
                      <!-- class = oe_avatar can also be used in this situation-->
                      <field name="profile_picture" widget="image" class="h-100" option="{'img_class':'object-fit-cover'}"/>
                    </div>
                  </aside>
                </div>
                <div class="col-4">
                  <strong>
                    Name : 
                  </strong>
                  <field name="name"/>
                  <strong>
                    Joining Date : 
                  </strong>
                  <field name="joining_date" placeholder="Enter the joining date for the student." invisible="0"/>
                </div>
                <div class="col-4">
                  <strong>
                    Roll no:
                  </strong>
                  <field name="roll"/>
                  <strong>
                    Email:
                  </strong>
                  <field name="email"/>
                </div>
              </div>

              <div>
                <strong>
                  School:
                </strong>
                <field name="school_id"/>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <!-- Imeplementing dynamic statusbar for student's profile -->
    <!-- For showing all student_status -->
    <record id="wb_student_statusbar_tree_view" model="ir.ui.view">
      <field name="name">student_statusbar.list.view</field>
      <field name="model">student_statusbar</field>
      <field name="arch" type="xml">
        <list>  
          <field name="sequence" widget="handle"/>
          <field name="id"/>
          <field name="name"/>
        </list>
      </field>
    </record>

    <!-- student's form dynamic statusbar  -->
    <!-- For showing adding/updating student's statusbar school -->
    <record id="wb_student_statusbar_form_view" model="ir.ui.view">
      <field name="name">student_statusbar.form.view</field>
      <field name="model">student_statusbar</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
              <group>
                <field name="id"/>
                <field name="name"/>
              </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- For showing all student's school -->
    <record id="wb_student_school_tree_view" model="ir.ui.view">
      <field name="name">student.list.view</field>
      <field name="model">school</field>
      <field name="arch" type="xml">
        <list>  
          <!-- <field name="id"/> -->
          <field name="id"/>
          <field name="name"/>
          <field name="ref_field_id"/>
          <field name="address"/>
          <!-- <field name="student_list"/> -->
        </list>
      </field>
    </record>
    
    <!-- For showing adding/updating student's school -->
    <record id="wb_student_school_form_view" model="ir.ui.view">
      <field name="name">student.form.view</field>
      <field name="model">school</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
              <group>
                <!-- <field name="id"/> -->
                <field name="id"/>
                <field name="name"/>
                <field name="ref_field_id"/>
                <field name="address"/>
                <!-- <field name="student_list"/> -->
              </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- For showing all student's HOBBY -->
    <record id="wb_student_hobby_tree_view" model="ir.ui.view">
      <field name="name">hobby.list.view</field>
      <field name="model">hobby</field>
      <field name="arch" type="xml">
        <list>  
          <!-- <field name="id"/> -->
          <field name="id"/>
          <field name="name"/>
        </list>
      </field>
    </record>
    
    <!-- For showing adding/updating student's HOBBY -->
    <record id="wb_student_hobby_form_view" model="ir.ui.view">
      <field name="name">hobby.form.view</field>
      <field name="model">hobby</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <button name="custom_method" type="object" string="Custom Method"></button>
          </header>
          <sheet>
              <group>
                <!-- <field name="id"/> -->
                <field name="id"/>
                <field name="name"/>
              </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- ListView of all the student's currency  -->
    <record id="student_currency_tree_view" model="ir.ui.view">
      <field name="name">student_currency.list.view</field>
      <field name="model">student_currency</field>
      <field name="arch" type="xml">
        <list>
          <field name="id"/>
          <field name="name"/>
        </list>
      </field>
    </record>

    <!--FormView of all the student's currency-->
    <record id="student_currency_form_view" model="ir.ui.view">
      <field name="name">student_currency.form.view</field>
      <field name="model">student_currency</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <group>
              <field name="id"/>
              <field name="name"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!--Server actions or UI actions-->
    <record id="wb_student_action" model="ir.actions.act_window">
      <field name="name">Student</field>
      <field name="res_model">student</field>
      <field name="view_mode">list,form,kanban</field>
      <!-- Apply default filters in the search view -->
      <field name="context">{"search_default_male_students":1}</field>
    </record>

    <record id="wb_student_statusbar_action" model="ir.actions.act_window">
      <field name="name">student_statusbar</field>
      <field name="res_model">student_statusbar</field>
      <field name="view_mode">list,form</field>
    </record>


    <record id="wb_student_school_action" model="ir.actions.act_window">
      <field name="name">school</field>
      <field name="res_model">school</field>
      <field name="view_mode">list,form</field>
    </record>

    <record id="wb_student_hobby_action" model="ir.actions.act_window">
      <field name="name">hobby</field>
      <field name="res_model">hobby</field>
      <field name="view_mode">list,form</field>
    </record>

    <record id="student_currency_action" model="ir.actions.act_window">
      <field name="name">student_currency</field>
      <field name="res_model">student_currency</field>
      <field name="view_mode">list,form</field>
    </record>

    <!--menu links-->
    <!--Root menu-->
    <menuitem id="wb_student_root_menu" name="Students"/>
    <!--Child menu-->
    <menuitem id="wb_student_sub_root_menu" name="Menu" parent="wb_student_root_menu"/>
    <!-- menu list items -->
    <menuitem id="wb_student_menu" action="wb_student_action" name="Students List" parent="wb_student_sub_root_menu"/>
    <menuitem id="wb_student_school_menu" action="wb_student_school_action" name="Student's School List" parent="wb_student_sub_root_menu"/>
    <menuitem id="wb_student_statusbar_menu" action="wb_student_statusbar_action" name="Student's Dynamic Statusbar" parent="wb_student_sub_root_menu"/>
    <menuitem id="wb_student_hobby_menu" action="wb_student_hobby_action" name="Student's Hobby List" parent="wb_student_sub_root_menu"/>
    <menuitem id="student_currency_menu" action="student_currency_action" name="Student's currency List" parent="wb_student_sub_root_menu"/>
  </data>
</odoo>


